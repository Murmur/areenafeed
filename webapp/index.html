<html>
<head>
  <title>YLE Areena to rss feed</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="keywords" content="YLE, Areena, Java, rss, dlna, playstation 3" />
</head>
<script language="Javascript">

// convert value to UTF-8 url encoded string
function convert() {
	var field1 = document.getElementById("field1");
	var field2 = document.getElementById("field2");
	field2.value = encodeURIComponent(field1.value).replace(/%20/g, "+");
}

</script>

<style type="text/css">

table.compact { border-collapse: collapse }
table.compact th { margin: 0px; padding: 1px 3px 1px 3px; text-align: left; border-style: solid; border-width: 1px; border-color: #b5b4b4 #d0d0d0 #d0d0d0 #b5b4b4; background-color: #f2f2f2; }
table.compact td { margin: 0px; padding: 1px 3px 1px 3px;                   border-style: solid; border-width: 1px; border-color: #b5b4b4 #d0d0d0 #d0d0d0 #b5b4b4; }

</style>

<body>
<p style="font-size:small">
Updated: 2009-04-25: updated vimeo.com parser<br/>
Updated: 2009-03-30: fixed a quote bug in reply-rss.jsp page<br/>
Updated: 2009-03-22: added The Onion, ČT24<br/>
</p>

<h3>Web videos to RSS feed</h3>
<p>
Convert <a href="http://areena.yle.fi">YLE Areena</a> search results to rss.xml feed.<br/>
Convert <a href="http://youtube.com">Youtube</a> search results to rss.xml feed.<br/>
Convert <a href="http://video.google.com">Video.Google</a> search results to rss.xml feed.<br/>
Convert <a href="http://www.vimeo.com">Vimeo</a> to rss.xml feed.<br/>
Convert <a href="http://www.theonion.com/content/video?utm_source=nav">The Onion</a> to rss.xml feed.<br/>
Convert <a href="http://www.ct24.cz/vysilani/?streamtype=WM2">ČT24 Czech TV</a> to rss.xml feed.<br/>
</p>

<p>
The following links work in Tomcat/Jetty application server, see installation topic for more information.<br/>
<a href="version.jsp">Version details</a> <br/>
<a href="yleareena.jsp?quality=lo&medialink=url&keyword=Ajankohtainen+Kakkonen">YLE Areena videos</a> <br/>
<a href="youtube.jsp?title=Playstation+channel&desc=Official+Playstation+videos&url=profile?user=PlayStation%26view=videos">Youtube videos</a> <br/>
<a href="googlevideo.jsp?medialink=e26&desc=Jenni+Vartiainen+videos&keyword=Jenni+Vartiainen">Google videos</a> <br/>
<a href="vimeo.jsp?title=Documentary+films&quality=lo&url=channels/documentaryfilm/videos/rss">Vimeo videos</a> <br/>
<a href="theonion.jsp?title=Most+Recent&url=content/ajax/onn/list/8/0/mostrecent">The Onion videos</a> <br/>
<a href="ct24cz.jsp?medialink=url&title=Programmes&maxitems=6&url=vysilani/?streamtype=WM2">ČT24 Czech TV</a> <br/>

</p>

<p>
<strong>Yle Areena feed parameters</strong><br/>
/yleareena.jsp
<table border="0" cellspacing="0" cellpadding="0" class="compact">
<tr>
  <th>Parameter</th>
  <th>Values</th>
  <th>Default</th>
  <th>Mandatory</th>
  <th>Comment</th>
</tr>
<tr>
  <td>keyword</td>
  <td>any string (utf-8)</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>search keyword, non us-ascii characters use UTF-8 url encoding</td>
</tr>
<tr>
  <td>cid</td>
  <td>any number</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>category id, see ids from Yle Areena site</td>
</tr>
<tr>
  <td>pid</td>
  <td>any number</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>program id, see ids from Yle Areena site</td>
</tr>
<tr>
  <td>quality</td>
  <td>lo,hi</td>
  <td>lo</td>
  <td style="text-align:center">&nbsp;</td>
  <td>video quality</td>
</tr>
<tr>
  <td>medialink</td>
  <td>url,asxref,asxrefmms</td>
  <td>url</td>
  <td style="text-align:center">&nbsp;</td>
  <td>format of media file url in a rss document. VLC streaming seems only to work with asxrefmms links</td>
</tr>
<tr>
  <td>media</td>
  <td>video,audio,all</td>
  <td>all</td>
  <td style="text-align:center">&nbsp;</td>
  <td>select items by media type</td>
</tr>
<tr>
  <td>filter</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center">&nbsp;</td>
  <td>pass-through parameter to YLE Areena search url</td>
</tr>
<tr>
  <td>title</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>title of the rss feed results</td>
</tr>
<tr>
  <td>desc</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>description of the rss feed results</td>
</tr>
</table>
</p>


<p>
<strong>Youtube feed parameters</strong><br/>
/youtube.jsp
<table border="0" cellspacing="0" cellpadding="0" class="compact">
<tr>
  <th>Parameter</th>
  <th>Values</th>
  <th>Default</th>
  <th>Mandatory</th>
  <th>Comment</th>
</tr>
<tr>
  <td>keyword</td>
  <td>any string (utf-8)</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>search keyword, non us-ascii characters use UTF-8 url encoding</td>
</tr>
<tr>
  <td>medialink</td>
  <td>url,e26</td>
  <td>url</td>
  <td style="text-align:center"></td>
  <td>medialink format, VLC streaming seems to work with e26 only</td>
</tr>
<tr>
  <td>title</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>title of the rss feed results</td>
</tr>
<tr>
  <td>desc</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>description of the rss feed results</td>
</tr>
<tr>
  <td>url</td>
  <td>any youtube url link</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>any youtube url to list videos, usually you don't need to give it</td>
</tr>
</table>
</p>

<p>
<strong>GoogleVideo feed parameters</strong><br/>
/googlevideo.jsp
<table border="0" cellspacing="0" cellpadding="0" class="compact">
<tr>
  <th>Parameter</th>
  <th>Values</th>
  <th>Default</th>
  <th>Mandatory</th>
  <th>Comment</th>
</tr>
<tr>
  <td>keyword</td>
  <td>any string (utf-8)</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>search keyword, non us-ascii characters use UTF-8 url encoding</td>
</tr>
<tr>
  <td>medialink</td>
  <td>url,e26</td>
  <td>url</td>
  <td style="text-align:center"></td>
  <td>medialink format, VLC streaming seems to work with e26 only</td>
</tr>
<tr>
  <td>title</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>title of the rss feed results</td>
</tr>
<tr>
  <td>desc</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>description of the rss feed results</td>
</tr>
<tr>
  <td>url</td>
  <td>any video.google.com url link</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>any youtube url to list videos, usually you don't need to give it</td>
</tr>

</table>
</p>

<p>
<strong>Vimeo feed parameters</strong><br/>
/vimeo.jsp
<table border="0" cellspacing="0" cellpadding="0" class="compact">
<tr>
  <th>Parameter</th>
  <th>Values</th>
  <th>Default</th>
  <th>Mandatory</th>
  <th>Comment</th>
</tr>
<tr>
  <td>title</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>title of the rss feed results</td>
</tr>
<tr>
  <td>desc</td>
  <td>any string</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>description of the rss feed results</td>
</tr>
<tr>
  <td>url</td>
  <td>any vimeo.com RSS link</td>
  <td>&nbsp;</td>
  <td style="text-align:center"></td>
  <td>any vimeo.com RSS link, html links not supported</td>
</tr>

</table>
</p>



<h3>UTF-8 url encoding helper</h3>
<p>
Use this helper tool to convert search keyword to utf-8 url encoded string.<br/>
<span style="display:inline-block;width:70px">Text</span> <input type="text" name="field1" id="field1" value="" size="30" />
<a href="javascript:convert()">Convert</a><br/>
<span style="display:inline-block;width:70px">Encoded</span> <input type="text" name="field2" id="field2" value="" size="30" />
</p>

<!--
<h3>Commandline converter</h3>
<p>
RSS-feed documents can be created offline if you don't have Tomcat server available. PS3MS can use
either a http:// or file:// sources.<br/>

<pre>
@REM Create rss-simple documents
set keyword=
set keywordenc=t%%C3%%A4n%%C3%%A4%%C3%%A4n+otsikoissa
C:\projects\areenafeed>java -cp ./webapp/WEB-INF/lib/areenafeed.jar fi.mbnet.akini.areenafeed.AreenaConverterMain "keyword=%keyword%" "keywordenc=%keywordenc%"  quality=hi medialink=asxrefmms media=video  1>rss-simple1.xml

set keyword=Urheiluruutu
set keywordenc=
C:\projects\areenafeed>java -cp ./webapp/WEB-INF/lib/areenafeed.jar fi.mbnet.akini.areenafeed.AreenaConverterMain "keyword=%keyword%" "keywordenc=%keywordenc%"  quality=hi medialink=asxrefmms media=video  1>rss-simple2.xml
</pre>
</p>
-->


<h3>Installation, Requirements</h3>
<p>
<ul>
<li><a href="http://tomcat.apache.org/download-60.cgi">Tomcat server</a> or <a href="http://www.mortbay.org/jetty/">Jetty server</a></li>
<li><a href="http://jakarta.apache.org/taglibs/doc/standard-doc/intro.html">JSTL Standard Tag Library 1.1</a>
<li><a href="areenafeed.zip">areenafeed.zip</a> package contains areenafeed.war web application
<li><a href="http://java.sun.com/javase/downloads/?intcmp=1281">Java JRE6</a> virtual machine
</ul>

See <a href="installation.txt">Installation.txt</a> for detailed installation steps to setup
a new Tomcat server and few configuration settings.

<br/><br/>
Converter .jsp pages need JSTL v1.1 library and all you really need from the binary distribution is 
<u>jstl.jar</u> and <u>standard.jar</u> files. Some servlet engines may already have libraries in place. 
</p>

<h3>PS3MediaServer dlna</h3>
<p>
Html conversion to rss feed gives an option to publish video sites
to <a href="http://ps3mediaserver.blogspot.com/">PS3 Media Server</a> dlna server. 
Playstation 3 can playback videos and audios through PS3MS streaming. 
See <a href="http://ps3mediaserver.org/forum/viewtopic.php?f=2&t=666&p=3448#p3448">this topic</a>.
PS3MS uses VLC streamer so rss medialinks must be VLC compatible format, see previous .jsp feed parameter tables.
<br/><br/>
Feed sources can be either a link to .jsp page or local files created by commandline tool.

<pre>
## Example html2rss urls
videofeed.Web,YLE=http://localhost:8080/areenafeed/yleareena.jsp?quality=hi&medialink=asxrefmms&media=video&keyword=T%C3%A4n%C3%A4%C3%A4n+otsikoissa
videofeed.Web,YLE=http://localhost:8080/areenafeed/yleareena.jsp?quality=lo&medialink=asxrefmms&cid=164618&pid=215452
videofeed.Web,YLE=http://localhost:8080/areenafeed/yleareena.jsp?quality=lo&medialink=asxrefmms&cid=164618&pid=215452&title=Alueellinen+uutisl%C3%A4hetys

videofeed.Web,Google=http://localhost:8080/areenafeed/googlevideo.jsp?medialink=e26&desc=Jenni+Vartiainen+videos&keyword=Jenni+Vartiainen
videofeed.Web,Youtube=http://localhost:8080/areenafeed/youtube.jsp?desc=Led+Zeppelin+videos&keyword=Led+Zeppelin
videofeed.Web,Vimeo=http://localhost:8080/areenafeed/vimeo.jsp?title=Documentary+films&quality=lo&url=channels/documentaryfilm/videos/rss
videofeed.Web,The Onion=http://localhost:8080/areenafeed/theonion.jsp?title=Most+Recent&url=content/ajax/onn/list/8/0/mostrecent

videofeed.WebTV,ZDF=http://localhost:8080/areenafeed/asxsource.jsp?medialink=asxrefmms&title=ZDF&url=http://wstreaming.zdf.de/zdf/56/090217_anstalt_nad.asx
videofeed.WebTV,CT24=http://localhost:8080/areenafeed/ct24cz.jsp?medialink=asxrefmms&title=Programmes&maxitems=6&url=vysilani/?streamtype=WM2

audiofeed.Web [vlcaudio]=http://localhost:8080/areenafeed/yleareena.jsp?medialink=asxrefmms&media=audio&keyword=Kulttuuripeili

videofeed.Web2=http://koti.mbnet.fi/akini/ps3/rss_video.xml
videofeed.Web2=http://koti.mbnet.fi/akini/ps3/rss-simple_video.xml
audiofeed.Web2 [vlcaudio]=http://koti.mbnet.fi/akini/ps3/rss-simple_audio.xml

videofeed.Web3=file:///C:/projects/areenafeed/rss-simple1.xml
videofeed.Web3=file:///C:/projects/areenafeed/rss-simple2.xml
</pre>

</p>


<h3>TODO, Missing features</h3>
<p>
<ul>
<li>Multi-page search results are not parsed, only first page is returned in a rss document.</li>
</ul>
</p>


<hr/>
<a href="http://koti.mbnet.fi/akini/ps3/areenafeed.html">http://koti.mbnet.fi/akini/</a>

</body>
</html>
